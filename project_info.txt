# Project Info - BewegendeAnimaties

## Projectomschrijving
BewegendeAnimaties is een Python-tool voor het genereren van fMRI-stijl GIF animaties. Het project maakt gebruik van een statische hersenachtergrond waarop verschillende soorten bewegende elementen worden geanimeerd in karakteristieke fMRI-kleuren (oranje/rood/geel gloed).

## Project doel, nut en functie
**Doel**: Het creëren van visueel aantrekkelijke en wetenschappelijk relevante animaties die hersenactiviteit simuleren.

**Doelgroep**: 
- Neurowetenschappers en onderzoekers
- Educatieve instellingen voor het uitleggen van hersenprocessen
- Presentatie- en visualisatiedoeleinden

**Nut**: 
- Maakt complexe hersenprocessen visueel begrijpelijk
- Ondersteunt wetenschappelijke communicatie
- Biedt flexibele configuratie voor verschillende use cases
- Verhoogt herkenbaarheid en wetenschappelijke waarde door realistische visualisaties

**Functie**: 
- Genereert 4 verschillende animatietypes op één hersenachtergrond
- Volledig configureerbaar via constants bestand
- Automatische batch-generatie van alle animaties
- Ondersteunt zowel abstracte als realistische bewegende figuren

## Architectuur/modulestructuur
```
BewegendeAnimaties/
├── main.py                    # Centraal script voor alle animaties
├── demo_bewegend_mannetje.py  # Demo script voor bewegend mannetje
├── requirements.txt           # Python dependencies
├── config/
│   └── constants.py          # Configuratie en instellingen ✅
├── animaties/
│   ├── __init__.py           # Package initialisatie ✅
│   ├── bewegend_mannetje.py  # Bewegend figuur animatie ✅ (uitgebreid)
│   ├── vlekken_verschijnend.py # Uitspreidende vlekken ✅
│   ├── vlekken_verdwijnend.py  # Verdwijnende vlekken ✅
│   └── tekst_verschijnend.py   # Letter-voor-letter tekst ✅
├── utils/
│   ├── image_utils.py        # Afbeelding manipulatie ✅ (uitgebreid)
│   ├── color_utils.py        # fMRI kleurenschema ✅
│   └── gif_utils.py          # GIF generatie utilities ✅
└── output/                   # Gegenereerde GIF bestanden
```

## Per module: status, bestandsnaam, pad, functionaliteit, afhankelijkheden

### requirements.txt
- **Status**: ✅ Voltooid
- **Pad**: /requirements.txt
- **Functionaliteit**: Python dependencies (Pillow, numpy)
- **Afhankelijkheden**: Geen

### config/constants.py
- **Status**: ✅ Voltooid en uitgebreid
- **Pad**: /config/constants.py
- **Functionaliteit**: 
  - Configuratie voor achtergrond, tekst, animatieparameters, fMRI kleuren
  - Nieuwe configuratie voor realistisch lopend mannetje
  - Random walk parameters en bewegingsinstellingen
  - **NIEUW**: Tekst animatie configuratie (font, kleur, positionering, timing)
- **Afhankelijkheden**: Geen

### utils/image_utils.py
- **Status**: ✅ Voltooid en uitgebreid
- **Pad**: /utils/image_utils.py
- **Functionaliteit**: 
  - Afbeelding laden, ovaal masker, compositing, punt-in-ovaal detectie
  - **NIEUW**: Stick figure tekenfuncties met verschillende poses
  - **NIEUW**: Random walk utilities en positie berekeningen
  - **NIEUW**: Ovaal boundary checking en position correction
- **Afhankelijkheden**: PIL/Pillow, numpy, config.constants

### utils/color_utils.py
- **Status**: ✅ Voltooid
- **Pad**: /utils/color_utils.py
- **Functionaliteit**: fMRI kleurenschema, gloed effecten, gradiënten, pulserende kleuren
- **Afhankelijkheden**: PIL/Pillow, numpy, config.constants

### utils/gif_utils.py
- **Status**: ✅ Voltooid
- **Pad**: /utils/gif_utils.py
- **Functionaliteit**: GIF creatie, optimalisatie, frame handling, test functionaliteit
- **Afhankelijkheden**: PIL/Pillow, config.constants

### animaties/__init__.py
- **Status**: ✅ Voltooid en uitgebreid
- **Pad**: /animaties/__init__.py
- **Functionaliteit**: Package initialisatie, importeert hoofdfuncties van alle animatie modules
- **Afhankelijkheden**: bewegend_mannetje, tekst_verschijnend modules

### animaties/bewegend_mannetje.py
- **Status**: ✅ Voltooid en uitgebreid
- **Pad**: /animaties/bewegend_mannetje.py
- **Functionaliteit**: 
  - **ORIGINEEL**: Ovaalroute algoritme voor smooth beweging binnen hersenregio
  - **ORIGINEEL**: Bewegend figuur rendering met fMRI kleurenschema en gloed effect
  - **NIEUW**: Realistisch stick figure mannetje met loop animatie
  - **NIEUW**: Vrije beweging binnen ovaal met random walk algoritme
  - **NIEUW**: Verschillende poses voor natuurlijke loop-cyclus
  - **NIEUW**: Bounce detection en natuurlijke richtingsveranderingen
  - Frame-by-frame animatie generatie met configureerbare parameters
  - Smooth interpolatie voor vloeiende beweging
  - Anti-aliasing en pulsing effecten
- **Afhankelijkheden**: utils modules (image_utils, color_utils, gif_utils), config.constants

### animaties/vlekken_verschijnend.py
- **Status**: ✅ Voltooid
- **Pad**: /animaties/vlekken_verschijnend.py
- **Functionaliteit**: 
  - **Vlek Generatie**: Algoritme voor natuurlijk uitziende organische vlekken
  - **Gradual Fill**: Geleidelijke uitbreiding van vlekken tot volledig gevuld ovaal
  - **Natuurlijke Groei**: Organische vlek vormen met irregulariteit en groeipatronen
  - **Timing Optimalisatie**: Smooth animatie met sigmoid easing voor natuurlijke groei
  - **fMRI Styling**: Oranje/rood/geel kleurenschema met gloed effecten en pulsing
  - **Configureerbaar**: Volledig instelbaar via constants (grootte, aantal, timing)
  - **Demo functionaliteit**: Test versie met vaste seed voor consistente resultaten
  - **Geoptimaliseerde rendering**: Efficiënte frame-by-frame generatie
- **Afhankelijkheden**: utils modules (image_utils, color_utils, gif_utils), config.constants

### animaties/vlekken_verdwijnend.py
- **Status**: ✅ Voltooid
- **Pad**: /animaties/vlekken_verdwijnend.py
- **Functionaliteit**: 
  - **Reverse Algoritme**: Omgekeerd proces van vlekken_verschijnend.py
  - **Geleidelijke Verdwijning**: Vlekken starten op maximale grootte en verdwijnen geleidelijk
  - **Natuurlijke Patronen**: Sigmoid easing voor smooth verdwijn curves
  - **Gespreide Timing**: Vlekken verdwijnen op verschillende momenten voor natuurlijk effect
  - **fMRI Styling**: Consistent kleurenschema (oranje/rood/geel) met gloed effecten
  - **Organische Vormen**: Hergebruik van create_organic_spot functie voor natuurlijke vlekken
  - **Configureerbaar**: Volledig instelbaar via constants.py parameters
  - **Demo functionaliteit**: Test versie met vaste seed voor reproduceerbare resultaten
  - **Wetenschappelijke Waarde**: Toont afnemende hersenactiviteit, inhibitie of herstelprocessen
- **Afhankelijkheden**: utils modules (image_utils, color_utils, gif_utils), config.constants

### animaties/tekst_verschijnend.py
- **Status**: ✅ Voltooid
- **Pad**: /animaties/tekst_verschijnend.py
- **Functionaliteit**: 
  - **Letter-voor-letter animatie**: Tekst verschijnt geleidelijk karakter voor karakter
  - **Intelligente positionering**: Automatische berekening van optimale tekstpositie binnen ovaal
  - **Flexibele positionering**: Ondersteuning voor center, left, right, top, bottom posities
  - **Font management**: Automatische font detectie met fallback opties
  - **fMRI styling**: Oranje/rood/geel kleurenschema met verhoogde gloed effecten
  - **Pulsing effecten**: Dynamische kleur pulsing voor extra visuele impact
  - **Boundary checking**: Zorgt ervoor dat tekst altijd binnen ovaal grenzen blijft
  - **Configureerbaar**: Volledig instelbaar via constants (tekst, font, kleur, timing)
  - **Demo functionaliteit**: Multi-tekst demo met verschillende posities en kleuren
  - **Educatieve waarde**: Perfect voor labeling van hersenregio's en processen
- **Afhankelijkheden**: utils modules (image_utils, color_utils, gif_utils), config.constants

### demo_bewegend_mannetje.py
- **Status**: ✅ Voltooid
- **Pad**: /demo_bewegend_mannetje.py
- **Functionaliteit**: 
  - Demonstreert gebruik van bewegend_mannetje module
  - Genereert verschillende voorbeeld animaties
  - Toont configuratie opties
  - Gebruiksvriendelijke interface voor testen
- **Afhankelijkheden**: animaties.bewegend_mannetje, config.constants

### main.py
- **Status**: Nog niet gemaakt
- **Pad**: /main.py
- **Functionaliteit**: Centraal script dat alle 4 animaties genereert
- **Afhankelijkheden**: Alle animatie modules, config module

## Nieuwe functionaliteit - Tekst Verschijnend Animatie

### Belangrijkste kenmerken:
1. **Letter-voor-letter onthulling**: Tekst verschijnt geleidelijk karakter voor karakter
2. **Intelligente positionering**: Automatische berekening van optimale positie binnen ovaal
3. **Flexibele configuratie**: Ondersteuning voor verschillende posities (center, left, right, top, bottom)
4. **Font management**: Robuuste font detectie met fallback naar standaard fonts
5. **fMRI styling**: Consistent kleurenschema met verhoogde gloed effecten voor tekst
6. **Pulsing effecten**: Dynamische kleur variatie voor extra visuele impact
7. **Boundary checking**: Tekst blijft altijd binnen ovaal grenzen
8. **Demo functionaliteit**: Multi-tekst demo voor verschillende use cases

### Technische implementatie:
- **Font loading**: Automatische detectie van beschikbare fonts (Arial, DejaVu, fallback)
- **Text positioning**: Mathematische berekening van optimale posities binnen ellips
- **Boundary validation**: Controle dat alle tekst hoeken binnen ovaal blijven
- **Character revelation**: Frame-by-frame onthulling met configureerbare timing
- **Glow enhancement**: Verhoogde gloed radius en intensiteit voor tekst zichtbaarheid
- **Color pulsing**: Sinus-gebaseerde kleur variatie voor dynamische effecten
- **Mask integration**: Naadloze integratie met bestaande ovaal masker systeem

### Doelgroep en nut:
- **Educatieve gebruikers**: Voor het toevoegen van labels of uitleg aan hersenvisualisaties
- **Neurowetenschappers**: Voor het labelen van specifieke hersenregio's of processen
- **Presentatie doeleinden**: Voor het toevoegen van context aan animaties
- **Wetenschappelijke communicatie**: Verhoogt de communicatieve waarde van visualisaties

### Configuratie opties:
- **TEXT_CONTENT**: Standaard tekst inhoud ("fMRI")
- **TEXT_FONT_SIZE**: Font grootte (48)
- **TEXT_COLOR**: Tekst kleur (fMRI primary oranje)
- **TEXT_POSITION**: Positionering ("center", "left", "right", "top", "bottom")
- **TEXT_ANIMATION_SPEED**: Snelheid van letter onthulling (0.15 sec/letter)
- **TEXT_GLOW_RADIUS**: Verhoogde gloed radius (15) voor betere zichtbaarheid
- **TEXT_GLOW_INTENSITY**: Gloed intensiteit (0.8) voor sterker effect
- **TEXT_PULSE_SPEED**: Snelheid van pulsing effect (2.0 cycli/sec)
- **TEXT_FONT_PATH**: Optioneel pad naar custom font

## Nieuwe functionaliteit - Realistisch Lopend Mannetje

### Belangrijkste verbeteringen:
1. **Realistisch figuur**: Vervangen van abstracte cirkel door herkenbaar stick figure mannetje
2. **Loop animatie**: 6 verschillende poses voor natuurlijke loop-cyclus
3. **Vrije beweging**: Random walk algoritme in plaats van vaste ovaalroute
4. **Natuurlijke beweging**: Momentum, richtingsveranderingen en bounce detection
5. **Configureerbaar**: Volledig instelbaar via constants voor verschillende use cases

### Technische implementatie:
- Stick figure tekening met PIL ImageDraw
- Random walk met momentum en noise parameters
- Boundary detection en correction binnen ovaal
- Pose cycling voor loop animatie
- Behoud van fMRI styling en gloed effecten

## Nieuwe functionaliteit - Vlekken Verschijnend Animatie

### Belangrijkste kenmerken:
1. **Organische vlekken**: Natuurlijk uitziende vlek vormen met irregulariteit
2. **Geleidelijke groei**: Sigmoid easing voor smooth groei van vlekken
3. **Timing spreiding**: Vlekken verschijnen op verschillende momenten
4. **fMRI styling**: Kleurgradiënt met pulsing effecten
5. **Configureerbaar**: Grootte, aantal en timing via constants

### Technische implementatie:
- Organische vlek generatie met polygon shapes
- Sigmoid growth curves voor natuurlijke animatie
- Color gradient systeem voor variatie
- Glow effects en pulsing voor dynamiek
- Efficient frame-by-frame rendering

## Nieuwe functionaliteit - Vlekken Verdwijnend Animatie

### Belangrijkste kenmerken:
1. **Omgekeerd proces**: Complement van vlekken_verschijnend.py voor complete toolkit
2. **Natuurlijke verdwijning**: Sigmoid easing voor smooth verdwijn patronen
3. **Gespreide timing**: Vlekken verdwijnen op verschillende momenten
4. **Wetenschappelijke relevantie**: Toont inhibitie, herstel en afnemende hersenactiviteit
5. **Consistent design**: Hergebruik van bestaande functies en styling

### Technische implementatie:
- Reverse algoritme van vlekken_verschijnend.py
- calculate_spot_shrinkage() functie voor verdwijn berekeningen
- Hergebruik van create_organic_spot() voor consistentie
- Sigmoid easing omgekeerd voor natuurlijke verdwijning
- Demo functionaliteit met reproduceerbare resultaten

### Doelgroep en nut:
- **Neurowetenschappers**: Visualisatie van inhibitie processen
- **Onderzoekers**: Herstelprocessen en afnemende activiteit
- **Educatief**: Verschillende fasen van hersenactiviteit uitleggen
- **Wetenschappelijke waarde**: Completeert spectrum van activiteit visualisatie